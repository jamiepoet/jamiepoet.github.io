<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>代码书生</title>
  <subtitle>碧海琼涛连天涯，快意心波逐浪花</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://jamiepoet.github.io/"/>
  <updated>2016-06-16T07:00:24.000Z</updated>
  <id>http://jamiepoet.github.io/</id>
  
  <author>
    <name>代码书生</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>基于XMPP实现即时通讯（一、环境搭建）</title>
    <link href="http://jamiepoet.github.io/2016/06/16/%E5%9F%BA%E4%BA%8EXMPP%E5%AE%9E%E7%8E%B0%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%EF%BC%88%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%EF%BC%89/"/>
    <id>http://jamiepoet.github.io/2016/06/16/基于XMPP实现即时通讯（一、环境搭建）/</id>
    <published>2016-06-16T06:49:56.000Z</published>
    <updated>2016-06-16T07:00:24.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;一、IM协议及服务器选型&quot;&gt;&lt;a href=&quot;#一、IM协议及服务器选型&quot; class=&quot;headerlink&quot; title=&quot;一、IM协议及服务器选型&quot;&gt;&lt;/a&gt;一、IM协议及服务器选型&lt;/h2&gt;&lt;p&gt;参考&lt;br&gt;&lt;a href=&quot;http://liudanking.me/arch/xmpp%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%89%E5%9E%8B/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://liudanking.me/arch/xmpp%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%89%E5%9E%8B/&lt;/a&gt;&lt;br&gt;协议选型：XMPP已经成为标准的IM协议。XMPP官网：&lt;a href=&quot;http://XMPP.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://XMPP.org/&lt;/a&gt;&lt;br&gt;服务器型：使用广泛的是ejabberd，jabberd 2.x， Openfire，Tigase。&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;从编程语言角度来看主要是JAVA和Erlang。JAVA语言的优势是类库完备，容易招人。Erlang的优势是hot code swap，live console， 高并发。而且ejabberd是对XMPP协议支持最好、实现最为全面的server。因此企业在不考虑独立开发服务器的情况下，初期选型基本建议采用ejabberd。&lt;/p&gt;
&lt;p&gt;本文我们主要实践iOS端流程，不考虑太多服务器实现，因为Openfire易安装，插件功能丰富，我们使用Openfire&lt;/p&gt;
&lt;h2 id=&quot;二、MAC上搭建MySQL&quot;&gt;&lt;a href=&quot;#二、MAC上搭建MySQL&quot; class=&quot;headerlink&quot; title=&quot;二、MAC上搭建MySQL&quot;&gt;&lt;/a&gt;二、MAC上搭建MySQL&lt;/h2&gt;&lt;p&gt;因为服务器需要数据库支撑，所以我们在搭建Openfire前要先搭建数据库。参照: &lt;a href=&quot;http://www.cnblogs.com/xiaodao/archive/2013/04/04/2999426.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/xiaodao/archive/2013/04/04/2999426.html&lt;/a&gt; ,总结如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;安装：在 MySQL官网上 &lt;a href=&quot;http://dev.mysql.com/downloads/mysql/，下载MySQL，安装最新dmg版本&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://dev.mysql.com/downloads/mysql/，下载MySQL，安装最新dmg版本&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;运行：在系统偏好设置最下面一栏找到MySQL图标，点击图标后，点击Start MysAL Server 按钮，启动MySQL&lt;/li&gt;
&lt;li&gt;配置：输入alias命令 &lt;code&gt;alias mysql=/usr/local/mysql/bin/mysql&lt;/code&gt; 回车，再输入&lt;code&gt;alias mysqladmin=/usr/local/mysql/bin/mysqladmin&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;设置MySQL root帐号的密码: &lt;code&gt;mysqladmin -u root password 初始密码&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;连接数据库: &lt;code&gt;mysql -u root -p&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;创建Openfire数据库: &lt;code&gt;create database openfire&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;三、MAC上搭建Openfire&quot;&gt;&lt;a href=&quot;#三、MAC上搭建Openfire&quot; class=&quot;headerlink&quot; title=&quot;三、MAC上搭建Openfire&quot;&gt;&lt;/a&gt;三、MAC上搭建Openfire&lt;/h2&gt;&lt;p&gt;参照 &lt;a href=&quot;http://www.cnblogs.com/xiaodao/archive/2013/04/05/3000554.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/xiaodao/archive/2013/04/05/3000554.html&lt;/a&gt; 只需要执行到通过 admin登陆管理控制台即可。（不必通过数据库修改默认admin账户，可能会导致无法登录的情况，要修改可通过控制台进行新增或修改）&lt;/p&gt;
&lt;h2 id=&quot;四、工程中集成XMPP&quot;&gt;&lt;a href=&quot;#四、工程中集成XMPP&quot; class=&quot;headerlink&quot; title=&quot;四、工程中集成XMPP&quot;&gt;&lt;/a&gt;四、工程中集成XMPP&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;XMPP的git地址为： &lt;a href=&quot;https://github.com/robbiehanson/XMPPFramework&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/robbiehanson/XMPPFramework&lt;/a&gt; 。其中有较详细文档&lt;/li&gt;
&lt;li&gt;集成至Xcode: 最简单的方法，通过CocoaPods集成: &lt;code&gt;pod “XMPPFramework”&lt;/code&gt;。强烈推荐没有用过CocoaPods的同学使用这个第三方库管理工具。&lt;br&gt;CocoaPods详解之——使用篇：&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/wzzvictory/article/details/18737437&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/wzzvictory/article/details/18737437&lt;/a&gt; （其中 &lt;a href=&quot;http://ruby.taobao.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://ruby.taobao.org/&lt;/a&gt;  这个源地址应该要更新成 &lt;a href=&quot;https://ruby.taobao.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://ruby.taobao.org/&lt;/a&gt;  ）&lt;/li&gt;
&lt;li&gt;如果cocoapods提示 target overrides the ENABLE_BITCODE build setting defined等信息，可以在build settings中将 Enable Bitcode 的选项中添加other内空：&lt;code&gt;$(inherited)&lt;/code&gt;。此时选项显示为 &lt;code&gt;No-$(inherited)&lt;/code&gt; 。再重新运行pods命令即可解决&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;作者 &lt;a href=&quot;http://jamiepoet.github.io&quot;&gt;@代码书生&lt;/a&gt;&lt;br&gt;2016 年 06月 16日    &lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、IM协议及服务器选型&quot;&gt;&lt;a href=&quot;#一、IM协议及服务器选型&quot; class=&quot;headerlink&quot; title=&quot;一、IM协议及服务器选型&quot;&gt;&lt;/a&gt;一、IM协议及服务器选型&lt;/h2&gt;&lt;p&gt;参考&lt;br&gt;&lt;a href=&quot;http://liudanking.me/arch/xmpp%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%89%E5%9E%8B/&quot;&gt;http://liudanking.me/arch/xmpp%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%89%E5%9E%8B/&lt;/a&gt;&lt;br&gt;协议选型：XMPP已经成为标准的IM协议。XMPP官网：&lt;a href=&quot;http://XMPP.org/&quot;&gt;http://XMPP.org/&lt;/a&gt;&lt;br&gt;服务器型：使用广泛的是ejabberd，jabberd 2.x， Openfire，Tigase。
    
    </summary>
    
      <category term="即时通讯（IM）" scheme="http://jamiepoet.github.io/categories/%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%EF%BC%88IM%EF%BC%89/"/>
    
    
      <category term="iOS" scheme="http://jamiepoet.github.io/tags/iOS/"/>
    
      <category term="Mac" scheme="http://jamiepoet.github.io/tags/Mac/"/>
    
      <category term="XMPP" scheme="http://jamiepoet.github.io/tags/XMPP/"/>
    
      <category term="IM" scheme="http://jamiepoet.github.io/tags/IM/"/>
    
  </entry>
  
  <entry>
    <title>FFmpeg学习笔记(二、集成x264)</title>
    <link href="http://jamiepoet.github.io/2016/06/07/FFmpeg%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%BA%8C%E3%80%81%E9%9B%86%E6%88%90x264/"/>
    <id>http://jamiepoet.github.io/2016/06/07/FFmpeg学习笔记-二、集成x264/</id>
    <published>2016-06-07T03:30:11.000Z</published>
    <updated>2016-06-07T03:32:14.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;一、x264源码包下载&quot;&gt;&lt;a href=&quot;#一、x264源码包下载&quot; class=&quot;headerlink&quot; title=&quot;一、x264源码包下载&quot;&gt;&lt;/a&gt;一、x264源码包下载&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;从&lt;a href=&quot;http://www.videolan.org/developers/x264.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.videolan.org/developers/x264.html&lt;/a&gt; 下载得到最新的x264源码包，解压后得到一个名为x264-snapshot-xxx的文件夹&lt;/li&gt;
&lt;li&gt;为了后续脚本编译，将上面的x264-snapshot-xxx文件夹重命名为x264&lt;/li&gt;
&lt;/ol&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;二、编译x264&quot;&gt;&lt;a href=&quot;#二、编译x264&quot; class=&quot;headerlink&quot; title=&quot;二、编译x264&quot;&gt;&lt;/a&gt;二、编译x264&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;从 &lt;a href=&quot;https://github.com/kewlbear/x264-ios&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/kewlbear/x264-ios&lt;/a&gt; 下载x264的编译脚本文件，将下载得到的build-x264.sh放到上面的x264文件夹同一级目录下。（.sh文件和x264文件夹同一层级）&lt;/li&gt;
&lt;li&gt;安装插件gas-preprocessor.pl，详见&lt;a href=&quot;http://jamiepoet.github.io/2016/06/01/FFmpeg%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/#2-%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6&quot;&gt;《FFmpeg学习笔记(一、环境搭建) 》的1.2安装插件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;cd至 .sh文件所在目录，在确保路径中无中文的情况下（有中文会在编译中提示找不到文件），运行脚本 &lt;code&gt;./build-x264.sh&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;脚本运行完毕后，会生成4个文件夹：x264-iOS，scratch-x264，thin-x264。查看x264-iOS中lib文件夹下的libx264.a。命令为： &lt;code&gt;lipo -info libx264.a&lt;/code&gt; 。一切顺利的话会提示 Architectures in the fat file，同时支持armv7、 armv7s、i386、x86_64、arm64所有格式&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;三、编译带x264的FFmpeg包&quot;&gt;&lt;a href=&quot;#三、编译带x264的FFmpeg包&quot; class=&quot;headerlink&quot; title=&quot;三、编译带x264的FFmpeg包&quot;&gt;&lt;/a&gt;三、编译带x264的FFmpeg包&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;拷贝x264-iOS文件夹至FFmpeg的编译脚本build-ffmpeg.sh所在目录下（.sh和x264-iOS文件夹同一层级），重命名x264-iOS为fat-x264&lt;/li&gt;
&lt;li&gt;打开build-ffmpeg.sh文件（Xcode或TextWrangler等脚本编辑器，文本编辑也可直接打开），找到 &lt;code&gt;X264=‘pwd’/fat-x264&lt;/code&gt; 这一行(搜索/fat-x264)，将其前面的“#”去掉。（去掉注释，让此行代码生效）&lt;/li&gt;
&lt;li&gt;CD到build-ffmpeg.sh文件所在目录，执行 &lt;code&gt;./build-FFmpeg.sh&lt;/code&gt;。编译时间较长，如果成功，将得到FFmpeg-iOS文件夹，会有7个.a文件。（比单纯的FFmpeg编译多出一个.a文件）&lt;/li&gt;
&lt;li&gt;如果编译过程中提示 /bin/sh: …: No such file or directory 等异常，可先CD到/usr/local/bin/目录下，直接调用build-ffmpeg.sh文件进行编译&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;四、工程配置&quot;&gt;&lt;a href=&quot;#四、工程配置&quot; class=&quot;headerlink&quot; title=&quot;四、工程配置&quot;&gt;&lt;/a&gt;四、工程配置&lt;/h2&gt;&lt;p&gt;参照&lt;a href=&quot;http://jamiepoet.github.io/2016/06/01/FFmpeg%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/#4-%E5%B7%A5%E7%A8%8B%E9%85%8D%E7%BD%AE&quot;&gt;《FFmpeg学习笔记(一、环境搭建) 》的4.工程配置&lt;/a&gt;，只是多了一个.a文件，全部添加至工程即可。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;作者 &lt;a href=&quot;http://jamiepoet.github.io&quot;&gt;@代码书生&lt;/a&gt;&lt;br&gt;2016 年 06月 07日    &lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、x264源码包下载&quot;&gt;&lt;a href=&quot;#一、x264源码包下载&quot; class=&quot;headerlink&quot; title=&quot;一、x264源码包下载&quot;&gt;&lt;/a&gt;一、x264源码包下载&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;从&lt;a href=&quot;http://www.videolan.org/developers/x264.html&quot;&gt;http://www.videolan.org/developers/x264.html&lt;/a&gt; 下载得到最新的x264源码包，解压后得到一个名为x264-snapshot-xxx的文件夹&lt;/li&gt;
&lt;li&gt;为了后续脚本编译，将上面的x264-snapshot-xxx文件夹重命名为x264&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="视频直播/点播" scheme="http://jamiepoet.github.io/categories/%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD-%E7%82%B9%E6%92%AD/"/>
    
    
      <category term="x264" scheme="http://jamiepoet.github.io/tags/x264/"/>
    
      <category term="FFmpeg" scheme="http://jamiepoet.github.io/tags/FFmpeg/"/>
    
      <category term="iOS" scheme="http://jamiepoet.github.io/tags/iOS/"/>
    
      <category term="Mac" scheme="http://jamiepoet.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>搭建自己的Hexo博客（Mac环境）</title>
    <link href="http://jamiepoet.github.io/2016/06/06/%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%EF%BC%88Mac%E7%8E%AF%E5%A2%83%EF%BC%89/"/>
    <id>http://jamiepoet.github.io/2016/06/06/搭建自己的Hexo博客（Mac环境）/</id>
    <published>2016-06-06T02:49:28.000Z</published>
    <updated>2016-06-15T16:00:00.000Z</updated>
    
    <content type="html">&lt;p&gt;相关的博客很多，碰到的问题应该都可以找到答案，所以只对环境搭建及建站做了详细描述，一起学习，有问题在评论中交流哈。&lt;br&gt;hexo中文文档： &lt;a href=&quot;https://hexo.io/zh-cn/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://hexo.io/zh-cn/docs/&lt;/a&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;一、环境搭建&quot;&gt;&lt;a href=&quot;#一、环境搭建&quot; class=&quot;headerlink&quot; title=&quot;一、环境搭建&quot;&gt;&lt;/a&gt;一、环境搭建&lt;/h2&gt;&lt;h3 id=&quot;1-安装git&quot;&gt;&lt;a href=&quot;#1-安装git&quot; class=&quot;headerlink&quot; title=&quot;1. 安装git&quot;&gt;&lt;/a&gt;1. 安装git&lt;/h3&gt;&lt;p&gt;1.1 安装ruby: &lt;code&gt;ruby -e &amp;quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)”&lt;/code&gt;&lt;br&gt;1.2 通过ruby安装git: &lt;code&gt;brew install git&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;2-安装Node&quot;&gt;&lt;a href=&quot;#2-安装Node&quot; class=&quot;headerlink&quot; title=&quot;2. 安装Node&quot;&gt;&lt;/a&gt;2. 安装Node&lt;/h3&gt;&lt;p&gt;在 &lt;a href=&quot;https://nodejs.org/en/download/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://nodejs.org/en/download/&lt;/a&gt; 下载pkg安装包进行安装&lt;/p&gt;
&lt;h3 id=&quot;3-安装Hexo&quot;&gt;&lt;a href=&quot;#3-安装Hexo&quot; class=&quot;headerlink&quot; title=&quot;3. 安装Hexo&quot;&gt;&lt;/a&gt;3. 安装Hexo&lt;/h3&gt;&lt;p&gt;运行：&lt;code&gt;npm install -g hexo-cli&lt;/code&gt;&lt;br&gt;如果提示npm ERR!…/Users/jamie/npm-debug.log等ERR，就运行条4步&lt;/p&gt;
&lt;h3 id=&quot;4-安装nvm，通过nvm来安装hexo&quot;&gt;&lt;a href=&quot;#4-安装nvm，通过nvm来安装hexo&quot; class=&quot;headerlink&quot; title=&quot;4. 安装nvm，通过nvm来安装hexo&quot;&gt;&lt;/a&gt;4. 安装nvm，通过nvm来安装hexo&lt;/h3&gt;&lt;p&gt;4.1 根据 &lt;a href=&quot;https://github.com/creationix/nvm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/creationix/nvm&lt;/a&gt; 说明&lt;br&gt;运行&lt;code&gt;curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.31.1/install.sh | bash&lt;/code&gt;&lt;br&gt;成功后，重启终端，如果运行nvm -h提示not found，可先运行&lt;code&gt;touch ~/.bash_profile&lt;/code&gt;。再重新执行上面的curl脚本。&lt;br&gt;4.2 运行  &lt;code&gt;nvm install 4&lt;/code&gt; 安装node(nvm是安装Node的最佳方式)&lt;br&gt;4.3 运行 &lt;code&gt;npm install -g hexo-cli&lt;/code&gt; 安装hexo&lt;/p&gt;
&lt;h2 id=&quot;二、建站&quot;&gt;&lt;a href=&quot;#二、建站&quot; class=&quot;headerlink&quot; title=&quot;二、建站&quot;&gt;&lt;/a&gt;二、建站&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;创建博客文件夹，cd到此文件夹路径&lt;/li&gt;
&lt;li&gt;执行命令： &lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;nam init
nam install
hexo generate
hexo server
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;完成后，在浏览器输入 &lt;a href=&quot;http://0.0.0.0:4000/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://0.0.0.0:4000/&lt;/a&gt; 就可以预览博客。相关配置及写文章可查看 &lt;a href=&quot;https://hexo.io/zh-cn/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://hexo.io/zh-cn/docs/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;三、写文章碰到的问题&quot;&gt;&lt;a href=&quot;#三、写文章碰到的问题&quot; class=&quot;headerlink&quot; title=&quot;三、写文章碰到的问题&quot;&gt;&lt;/a&gt;三、写文章碰到的问题&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;修改_config.yml文件时，冒号后面必须有一个空格（半角），否则修改后重新hexo server会报错can not read a block mapping entry…&lt;/li&gt;
&lt;li&gt;new了文章后重新开启服务时报错Cannot read property ‘offset’ of null，可能是时区配置错误，可以将时区配置成Asia&lt;/li&gt;
&lt;li&gt;写文章时要遵循markdown语法，推荐编辑器： &lt;a href=&quot;https://www.zybuluo.com/cmd/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.zybuluo.com/cmd/&lt;/a&gt; 。编辑好后再拷贝至.md文件&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;四、模板&quot;&gt;&lt;a href=&quot;#四、模板&quot; class=&quot;headerlink&quot; title=&quot;四、模板&quot;&gt;&lt;/a&gt;四、模板&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.zhihu.com/question/24422335&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.zhihu.com/question/24422335&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;五、访问数统计、文章阅读数、多说评论、友情链接、打赏、其它配置等&quot;&gt;&lt;a href=&quot;#五、访问数统计、文章阅读数、多说评论、友情链接、打赏、其它配置等&quot; class=&quot;headerlink&quot; title=&quot;五、访问数统计、文章阅读数、多说评论、友情链接、打赏、其它配置等&quot;&gt;&lt;/a&gt;五、访问数统计、文章阅读数、多说评论、友情链接、打赏、其它配置等&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://theme-next.iissnan.com/theme-settings.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://theme-next.iissnan.com/theme-settings.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;六、将博客部署至Gighub&quot;&gt;&lt;a href=&quot;#六、将博客部署至Gighub&quot; class=&quot;headerlink&quot; title=&quot;六、将博客部署至Gighub&quot;&gt;&lt;/a&gt;六、将博客部署至Gighub&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://jingyan.baidu.com/article/d8072ac47aca0fec95cefd2d.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://jingyan.baidu.com/article/d8072ac47aca0fec95cefd2d.html&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;作者 &lt;a href=&quot;http://jamiepoet.github.io&quot;&gt;@代码书生&lt;/a&gt;&lt;br&gt;2016 年 06月 06日    &lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;相关的博客很多，碰到的问题应该都可以找到答案，所以只对环境搭建及建站做了详细描述，一起学习，有问题在评论中交流哈。&lt;br&gt;hexo中文文档： &lt;a href=&quot;https://hexo.io/zh-cn/docs/&quot;&gt;https://hexo.io/zh-cn/docs/&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="博客" scheme="http://jamiepoet.github.io/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Mac" scheme="http://jamiepoet.github.io/tags/Mac/"/>
    
      <category term="博客" scheme="http://jamiepoet.github.io/tags/%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>主流视频直播参数总结</title>
    <link href="http://jamiepoet.github.io/2016/06/02/%E4%B8%BB%E6%B5%81%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E5%8F%82%E6%95%B0%E6%80%BB%E7%BB%93/"/>
    <id>http://jamiepoet.github.io/2016/06/02/主流视频直播参数总结/</id>
    <published>2016-06-02T07:43:42.000Z</published>
    <updated>2016-06-07T02:12:53.000Z</updated>
    
    <content type="html">&lt;p&gt;新手在学习视频直播前，肯定和我一样，有太多疑惑，不知从何入手，个人觉得需要先对整体平台有个大概的认识，然后再结合自己专业一步步学习研究，整体框架如图：&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;/2016/06/02/主流视频直播参数总结/直播框架.png&quot; alt=&quot;通用直播模型&quot; title=&quot;通用直播模型&quot;&gt;&lt;/p&gt;
&lt;p&gt;然后在网上查阅了不少资料，也和行业内一个朋友进行了交流，对主流平台参数总结如下（不对或不全面的地方欢迎大家指点）：&lt;/p&gt;
&lt;h3 id=&quot;1-收流（主流参数）&quot;&gt;&lt;a href=&quot;#1-收流（主流参数）&quot; class=&quot;headerlink&quot; title=&quot;1. 收流（主流参数）&quot;&gt;&lt;/a&gt;1. 收流（主流参数）&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;平台&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;协议&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;封装格式&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;视频编码&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;音频编码&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;解码技术&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;播放器&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;PC端&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;RTMP&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;FLV&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;H.264&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;AAC&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Flash播放器无插件直接播放&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;Flash播放器&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;App&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;RTMP/HLS(苹果)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;FLV&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;H.264&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;AAC&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;FFMPEG&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;ijkplayer等&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;2-推流（主流参数）&quot;&gt;&lt;a href=&quot;#2-推流（主流参数）&quot; class=&quot;headerlink&quot; title=&quot;2. 推流（主流参数）&quot;&gt;&lt;/a&gt;2. 推流（主流参数）&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;平台&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;采集&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;前处理（美颜等）&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;视频编码&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;音频编码&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;封装格式&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;推流协议&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;PC端（已逐步放弃）&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;OBS&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;美颜摄像头+OBS插件&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;H.264&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;AAC&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;FLV(服务器封装)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;RTMP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;App&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;FFMPEG+x264&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;GPUImage&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;H.264&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;AAC&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;FLV(服务器封装)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;RTMP&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;3-服务器（主流框架）&quot;&gt;&lt;a href=&quot;#3-服务器（主流框架）&quot; class=&quot;headerlink&quot; title=&quot;3. 服务器（主流框架）&quot;&gt;&lt;/a&gt;3. 服务器（主流框架）&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;传输&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;架构&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;截图/水印/转码/鉴黄等&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;CDN服务商&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;ossrs&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;定制开发+运维等&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;4-参考资料&quot;&gt;&lt;a href=&quot;#4-参考资料&quot; class=&quot;headerlink&quot; title=&quot;4. 参考资料&quot;&gt;&lt;/a&gt;4. 参考资料&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;循序渐进的学习FFMPEG（0基础学习音视频相关技术）&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/leixiaohua1020/article/details/15811977&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/leixiaohua1020/article/details/15811977&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;如何搭建一个完整的视频直播系统？&lt;a href=&quot;http://www.zhihu.com/question/42162310&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.zhihu.com/question/42162310&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;技术实现难度 &lt;a href=&quot;http://www.zhihu.com/question/41868659&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.zhihu.com/question/41868659&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;常用SDK推荐 &lt;a href=&quot;http://www.zhihu.com/question/37183046&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.zhihu.com/question/37183046&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;作者 &lt;a href=&quot;http://jamiepoet.github.io&quot;&gt;@代码书生&lt;/a&gt;&lt;br&gt;2016 年 06月 02日    &lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;新手在学习视频直播前，肯定和我一样，有太多疑惑，不知从何入手，个人觉得需要先对整体平台有个大概的认识，然后再结合自己专业一步步学习研究，整体框架如图：&lt;br&gt;
    
    </summary>
    
      <category term="视频直播/点播" scheme="http://jamiepoet.github.io/categories/%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD-%E7%82%B9%E6%92%AD/"/>
    
    
      <category term="FFmpeg" scheme="http://jamiepoet.github.io/tags/FFmpeg/"/>
    
      <category term="iOS" scheme="http://jamiepoet.github.io/tags/iOS/"/>
    
      <category term="Mac" scheme="http://jamiepoet.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>FFmpeg学习笔记(一、环境搭建)</title>
    <link href="http://jamiepoet.github.io/2016/06/01/FFmpeg%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80%E3%80%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <id>http://jamiepoet.github.io/2016/06/01/FFmpeg学习笔记-一、环境搭建/</id>
    <published>2016-06-01T09:44:43.000Z</published>
    <updated>2016-06-06T08:35:25.000Z</updated>
    
    <content type="html">&lt;!-- ![FFmpeg-logo](http://p5.qhimg.com/t0124cf926ea9205e45.jpg) --&gt;
&lt;p&gt;从今天开始大家一起来学习FFmpeg吧，目标是移动端 录制-&amp;gt;编码-&amp;gt;推流，收流-&amp;gt;解码-&amp;gt;播放整套流程。&lt;/p&gt;
&lt;hr&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;一、Mac上安装及体验&quot;&gt;&lt;a href=&quot;#一、Mac上安装及体验&quot; class=&quot;headerlink&quot; title=&quot;一、Mac上安装及体验&quot;&gt;&lt;/a&gt;一、Mac上安装及体验&lt;/h2&gt;&lt;h3 id=&quot;1-安装FFmpeg&quot;&gt;&lt;a href=&quot;#1-安装FFmpeg&quot; class=&quot;headerlink&quot; title=&quot;1. 安装FFmpeg&quot;&gt;&lt;/a&gt;1. 安装FFmpeg&lt;/h3&gt;&lt;p&gt;终端运行：&lt;code&gt;brew install ffmpeg&lt;/code&gt;&lt;br&gt;如果提示liblzma.5.dylib版本不够，运行命令：&lt;code&gt;brew install xz&lt;/code&gt; （因为通过&lt;code&gt;brew search liblzma&lt;/code&gt; 提示lzma已经是xz的一部分）&lt;/p&gt;
&lt;h3 id=&quot;2-功能体验&quot;&gt;&lt;a href=&quot;#2-功能体验&quot; class=&quot;headerlink&quot; title=&quot;2. 功能体验&quot;&gt;&lt;/a&gt;2. 功能体验&lt;/h3&gt;&lt;p&gt;找到一个mp4格式的文件，在终端运行：&lt;code&gt;ffmpeg -i demo.mp4 output.avi&lt;/code&gt;&lt;br&gt;成功后，既可播放转换完成的AVI视频。（如果Mac默认的播放器无法播放，可安装Movist播放）&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;二、iOS环境搭建&quot;&gt;&lt;a href=&quot;#二、iOS环境搭建&quot; class=&quot;headerlink&quot; title=&quot;二、iOS环境搭建&quot;&gt;&lt;/a&gt;二、iOS环境搭建&lt;/h2&gt;&lt;h3 id=&quot;1-安装-yams&quot;&gt;&lt;a href=&quot;#1-安装-yams&quot; class=&quot;headerlink&quot; title=&quot;1. 安装 yams&quot;&gt;&lt;/a&gt;1. 安装 yams&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;brew install yams
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;2-安装插件&quot;&gt;&lt;a href=&quot;#2-安装插件&quot; class=&quot;headerlink&quot; title=&quot;2. 安装插件&quot;&gt;&lt;/a&gt;2. 安装插件&lt;/h3&gt;&lt;p&gt;2.1 从 &lt;a href=&quot;https://github.com/libav/gas-preprocessor&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/libav/gas-preprocessor&lt;/a&gt; 下载文件脚本文件&lt;br&gt;2.2 将下载得到的 gas-preprocessor.pl 拷贝至bin目录下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;`cp gas-preprocessor.pl /usr/local/bin/`
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;2.3 修改此文件权限：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd /usr/local/bin
sudo chmod 777 gas-preprocessor.pl
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;3-通过脚本完成编译&quot;&gt;&lt;a href=&quot;#3-通过脚本完成编译&quot; class=&quot;headerlink&quot; title=&quot;3. 通过脚本完成编译&quot;&gt;&lt;/a&gt;3. 通过脚本完成编译&lt;/h3&gt;&lt;p&gt;从 &lt;a href=&quot;https://github.com/kewlbear/FFmpeg-iOS-build-script&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/kewlbear/FFmpeg-iOS-build-script&lt;/a&gt; 下载得到build-ffmpeg.sh文件 执行此文件，得到FFmpeg-iOS文件夹，里面包括两个子文件夹，分别包括头文件及.a文件&lt;br&gt;(如果编译提示/bin/sh: …: No such file or directory等异常，可先CD到/usr/local/bin/目录下，直接调用build-ffmpeg.sh文件进行编译)&lt;/p&gt;
&lt;h3 id=&quot;4-工程配置&quot;&gt;&lt;a href=&quot;#4-工程配置&quot; class=&quot;headerlink&quot; title=&quot;4. 工程配置&quot;&gt;&lt;/a&gt;4. 工程配置&lt;/h3&gt;&lt;p&gt;4.1 将FFmpeg-iOS文件夹添加至Xcode工程，确保“Library Search Paths”指向正确的FFmpeg-iOS/lib文件夹(通常添加至工程时会自动生成正确指向);确保“Header Search Paths”指向正确的FFmpeg-iOS/include文件夹（通常需手动设置）&lt;br&gt;4.2 确保项目添加了以下framework：libz.dylib、libbz2.dylib、libiconv.dylib、avfoundation、coremedia以及VideoToolbox&lt;br&gt;4.3 添加一个头文件引用 #include “avformat.h”，添加一个api语句：&lt;code&gt;av_register_all()&lt;/code&gt;&lt;br&gt;4.4 添加或修改一个类文件.m后缀改为.mm，开启混编模式。（swift混编模式中此步可省略）&lt;br&gt;4.5 运行工程，如果没有报错，则表示编译成功。恭喜，环境搭建完成了。（如果确保以上步骤正常，但编译时还是提示 ‘libavcodec/avcodec.h’ file not found，需修改“Header Search Paths”中FFmpeg-iOS/include文件夹的路径为绝对路径）&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;作者 &lt;a href=&quot;http://jamiepoet.github.io&quot;&gt;@代码书生&lt;/a&gt;&lt;br&gt;2016 年 06月 01日    &lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- ![FFmpeg-logo](http://p5.qhimg.com/t0124cf926ea9205e45.jpg) --&gt;
&lt;p&gt;从今天开始大家一起来学习FFmpeg吧，目标是移动端 录制-&amp;gt;编码-&amp;gt;推流，收流-&amp;gt;解码-&amp;gt;播放整套流程。&lt;/p&gt;
&lt;hr&gt;
    
    </summary>
    
      <category term="视频直播/点播" scheme="http://jamiepoet.github.io/categories/%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD-%E7%82%B9%E6%92%AD/"/>
    
    
      <category term="FFmpeg" scheme="http://jamiepoet.github.io/tags/FFmpeg/"/>
    
      <category term="iOS" scheme="http://jamiepoet.github.io/tags/iOS/"/>
    
      <category term="Mac" scheme="http://jamiepoet.github.io/tags/Mac/"/>
    
  </entry>
  
</feed>
